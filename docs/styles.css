/* ===== LOCAL FONT LOADING ===== */
/* @font-face tells the browser to load a font from your computer/project
           You can reference this font by its font-family name anywhere in your CSS */
@font-face {
  font-family: "Tenor Sans";
  src: url("./fonts/TenorSans-Regular.ttf") format("truetype");
  font-weight: normal;
}

/* Basic page styling */
body {
  margin: 0;
  padding: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Tenor Sans", sans-serif;
  background-color: #f0f0f0;
  text-align: center;
}

#watch-the-tokens {
  width: 100%;
  display: flex;
  flex-direction: column;
}

.token-row {
  display: grid;
  grid-template-areas: "label count" "nothing input";
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  padding-bottom: 100px;
}

.token-count {
  grid-area: "count";
  text-align: left;
}

.token-count-label {
  grid-area: "label";
  text-align: right;
}

.around-question {
  overflow: visible;
  grid-area: "input";
  max-width: 50vw;
}

.report {
  font-family: sans-serif; /* TODO: a heavy slab font */
  font-size: 2em;
  font-weight: 600;
}

/* The animated text element */
.question {
  font-size: 2rem;
  color: #333;
  text-align: left;
  min-width: 100vw;
}

.original-move-in {
  /* ===== FIRST ANIMATION: Slide in from right ===== */
  animation: moveInFromLeft 1.5s linear forwards;
}

/* Styling for each word span */
.question span {
  display: inline-block; /* Needed for transforms to work */
  transform-origin: left center; /* Rotate around left edge */
}

/* Applied by JS after moveInFromLeft completes */

.fall-down {
  color: orange;
  animation: fallDown 1.5s linear forwards;
}

.keep-scooching {
  animation: continueLeft 0.5s linear forwards;
}

/* ===== KEYFRAMES DEFINITIONS ===== */
/* Two separate animations that run in sequence */

/* ANIMATION 1: Slide in from the right */
@keyframes moveInFromLeft {
  0% {
    /* Starting position: off-screen to the right */
    transform: translateX(100vw);
  }
  100% {
    /* Ending position: centered */
    transform: translateX(0);
  }
}

@keyframes continueLeft {
  0% {
    transform: translateX(0vw);
  }
  100% {
    transform: translateX(calc(-1 * var(--offset, 0px)));
  }
}

/* ANIMATION 2: Rotate and fall down */
@keyframes fallDown {
  0% {
    /* Move left by the offset (so span aligns to left edge of div), no rotation yet
               --offset is set by JavaScript based on span's position */
    transform: rotate(0deg);
  }
  33% {
    /* Stay in same horizontal position, rotate 90 degrees clockwise */
    transform: rotate(90deg);
  }
  100% {
    /* Move down while keeping the horizontal offset and rotation
               - translateX: Stay shifted left by offset
               - translateY(80vh): Move down 80% of viewport height
               - rotate(-90deg): Maintain the rotation */
    transform: translateY(80vh) rotate(-90deg);
  }
}

#butthole {
  z-index: 100;
}
